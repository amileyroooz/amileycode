import random

while True:
    # ğŸ¯ Ú¯Ø±ÙØªÙ† ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§Ù†Ø¯ Ø¨Ø§ Ú©Ù†ØªØ±Ù„ ÙˆØ±ÙˆØ¯ÛŒ
    while True:
        rounds_input = input("How many rounds do you want to play?\n")
        try:
            rounds = int(rounds_input)
            if rounds <= 0:
                print("Please enter a positive number.")
                continue
            elif rounds > 20:
                print("Maximum allowed rounds is 20. Please enter a smaller number.")
                continue
            break
        except ValueError:
            print("âŒ Invalid input. Please enter a number.")

    # ğŸ§® Ø§Ù…ØªÛŒØ§Ø²Ù‡Ø§
    user_score = 0
    computer_score = 0
    current_round = 1
    game_stopped = False

    # ğŸ” Ø­Ù„Ù‚Ù‡ Ø¨Ø§Ø²ÛŒ
    while current_round <= rounds:
        print(f"\nğŸ² Round {current_round} of {rounds}")

        your_choice = input(
            # strings methods
            "rock, paper, scissors? (or type 'quit' to exit):\n"
        ).strip().replace(" ", "").lower()

        if your_choice == "quit":
            print("\nğŸšª Game stopped by user.")
            game_stopped = True
            break

        if your_choice not in ["rock", "paper", "scissors"]:
            print("âŒ Invalid choice! Please try again.")
            continue

        computer_choice = random.choice(["rock", "paper", "scissors"])

        print(f"\nğŸ§‘ You chose: {your_choice}")
        print(f"ğŸ’» Computer chose: {computer_choice}")
        print(f"âš”ï¸ {your_choice} vs {computer_choice}")

        if your_choice == computer_choice:
            print("ğŸ¤ It's a DRAW. No points awarded.")
        elif (your_choice == "rock" and computer_choice == "scissors" or
              your_choice == "paper" and computer_choice == "rock" or
              your_choice == "scissors" and computer_choice == "paper"
              ):
            print("âœ… You WON this round!")
            user_score += 1
        else:
            print("âŒ You LOST this round!")
            computer_score += 1

        print(f"\nğŸ“Š Score â†’ You: {user_score} | Computer: {computer_score}")
        current_round += 1

    # ğŸ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ ÙÙ‚Ø· Ø§Ú¯Ø± Ú©Ø§Ù…Ù„ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ù‡
    if not game_stopped:
        print("\nğŸ® Final Scores:")
        print(f"ğŸ§‘ You: {user_score}")
        print(f"ğŸ’» Computer: {computer_score}")
        print(f"ğŸ“¦ Total rounds played: {current_round - 1}") # -1 for last round

        if user_score > computer_score:
            print("\nğŸ† You are the WINNER!")
        elif computer_score > user_score:
            print("\nğŸ˜” Computer wins. Better luck next time!")
        else:
            print("\nğŸ¤ It's a DRAW overall!")

    # ğŸ” Ù¾Ø±Ø³ÛŒØ¯Ù† Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§Ø²ÛŒ
    play_again = input(
        "\nDo you want to play again? (yes/no):\n").strip().lower().replace(" ","")
    if play_again != "yes":
        print("\nğŸ‘‹ Thanks for playing! Goodbye.")
        break
